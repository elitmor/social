"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[119],{7119:function(t,s,e){e.r(s),e.d(s,{default:function(){return F}});var n=e(1413),r=e(5671),u=e(3144),a=e(136),o=e(516),i=e(2791),l=e(8687),c=e(7689),p=e(7781),d=e(1548),f=e(6070),h=e(6139),x=e(704),j=e(9632),m=e(5304),v=e(9956),g="MyPost_item__3DHF8",P="MyPost_avatar__2RnEx",_="MyPost_text__poP5F",S=e(184),Z=function(t){var s=t.message,e=t.likesCount;return(0,S.jsxs)("div",{className:g,children:[(0,S.jsx)("img",{className:P,src:v.Z,alt:"avatar"}),(0,S.jsx)("p",{className:_,children:s}),(0,S.jsx)("div",{className:"count",children:e})]})},k="MyPosts_btn__N+PvX",N=(0,m.D)(10),y=(0,x.Z)({form:"profileAddNewPostForm"})((function(t){return(0,S.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,S.jsx)(h.Z,{component:j.gx,name:"newPostText",placeholder:"Enter your message",validate:[m.C,N]}),(0,S.jsx)("button",{className:k,children:"Add post"})]})})),C=function(t){var s=t.posts.map((function(t){return(0,S.jsx)(Z,{message:t.message,likesCount:t.likesCount},t.id)}));return(0,S.jsxs)("div",{children:[(0,S.jsx)(y,{onSubmit:function(s){t.addPost(s.newPostText)}}),s]})},b=(0,l.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(s){t((0,f.q2)(s))}}}))(C),w=e(3169),I="ProfileInfo_info__s0OE8",T=e(885),A=function(t){var s=(0,i.useState)(!1),e=(0,T.Z)(s,2),n=e[0],r=e[1],u=(0,i.useState)(t.status),a=(0,T.Z)(u,2),o=a[0],l=a[1];(0,i.useEffect)((function(){l(t.status)}),[t.status]);return(0,S.jsx)("div",{children:n?(0,S.jsx)("div",{children:(0,S.jsx)("input",{onChange:function(t){l(t.currentTarget.value)},onBlur:function(){r(!1),t.updateStatus(o)},autoFocus:!0,type:"text",value:o})}):(0,S.jsx)("div",{children:(0,S.jsx)("span",{onDoubleClick:function(){r(!0)},children:o||"---"})})})},D=function(t){var s=t.profile,e=t.status,n=t.updateStatus;return s?(0,S.jsxs)("div",{children:[(0,S.jsx)("h4",{className:I,children:"ProfileInfo"}),(0,S.jsx)("p",{children:s.fullName}),(0,S.jsx)("img",{src:s.photos.large,alt:"avatar"}),(0,S.jsx)("p",{children:s.contacts.github}),(0,S.jsx)(A,{status:e,updateStatus:n})]}):(0,S.jsx)(w.Z,{})},M=function(t){return(0,S.jsxs)("div",{className:"profile",children:[(0,S.jsx)(D,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,S.jsx)(b,{})]})},E=function(t){(0,a.Z)(e,t);var s=(0,o.Z)(e);function e(){return(0,r.Z)(this,e),s.apply(this,arguments)}return(0,u.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.router.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,S.jsx)(M,(0,n.Z)((0,n.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),e}(i.Component);var F=(0,p.qC)((0,l.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getProfile:f.Ai,getStatus:f.lR,updateStatus:f.Nf}),(function(t){return function(s){var e=(0,c.TH)(),r=(0,c.s0)(),u=(0,c.UO)();return(0,S.jsx)(t,(0,n.Z)((0,n.Z)({},s),{},{router:{location:e,navigate:r,params:u}}))}}),d.D)(E)}}]);
//# sourceMappingURL=119.cb70d674.chunk.js.map